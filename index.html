<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Portfolio</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Animasi */
    .fade-in {
      animation: fadeIn 0.8s ease-out;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Game Canvas */
    #gameCanvas {
      background: #1f2937;
      display: block;
      margin: 0 auto;
      touch-action: none;
      border: 2px solid #8b5cf6;
      border-radius: 0.5rem;
    }

    /* Overlay Game */
    .game-overlay {
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(3px);
      transition: opacity 0.3s;
    }
    .overlay-hidden {
      opacity: 0;
      pointer-events: none;
    }
  </style>
</head>
<body class="bg-gradient-to-b from-gray-900 to-purple-900 text-white">
  
  <!-- Projects Section -->
  <section class="container mx-auto px-6 py-12">
    <h2 class="text-3xl font-bold mb-8 text-center fade-in">My Projects</h2>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
      <!-- Project Cards -->
      <div class="project-card fade-in bg-gray-800 rounded-xl p-6 shadow-lg">
        <h3 class="text-2xl font-bold mb-3">AI Chatbot</h3>
        <p class="text-gray-300 mb-4">Chatbot with NLP capabilities</p>
        <a href="#" class="inline-block px-5 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg">View Project</a>
      </div>
      <!-- Tambah project lain -->
    </div>
  </section>

  <!-- Game Section -->
  <section class="py-12">
    <div class="mx-auto px-4 max-w-md">
      <h2 class="text-3xl font-bold mb-6 text-center fade-in">Mini Game</h2>
      <div class="bg-gray-800 rounded-xl p-4 relative">
        <!-- Canvas + Overlay -->
        <canvas id="gameCanvas" width="400" height="300"></canvas>
        <div id="gameOverlay" class="game-overlay absolute inset-0 flex flex-col items-center justify-center">
          <h3 id="overlayText" class="text-2xl font-bold mb-4">TARGET CLICK GAME</h3>
          <button id="startBtn" class="px-8 py-3 bg-green-500 hover:bg-green-600 rounded-lg text-lg">
            â–¶ START
          </button>
        </div>
        <p id="score" class="text-lg mt-4 text-center">Score: 0 | High: 0</p>
      </div>
    </div>
  </section>

  <script>
    // ========== GAME CODE ==========
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const startBtn = document.getElementById('startBtn');
    const scoreElement = document.getElementById('score');
    const gameOverlay = document.getElementById('gameOverlay');
    const overlayText = document.getElementById('overlayText');

    // Game Variables
    let score = 0, highScore = 0, gameActive = false;
    let target = { x: 0, y: 0, radius: 15 };

    // Initialize Canvas
    function setupCanvas() {
      const container = document.querySelector('.max-w-md');
      const maxWidth = container.clientWidth - 32; // Adjust for padding
      canvas.style.width = `${Math.min(400, maxWidth)}px`;
      canvas.style.height = `${Math.min(300, maxWidth * 0.75)}px`;
    }

    // Game Functions
    function drawTarget() {
      ctx.beginPath();
      ctx.arc(target.x, target.y, target.radius, 0, Math.PI * 2);
      ctx.fillStyle = '#ef4444';
      ctx.fill();
    }

    function spawnTarget() {
      target = {
        x: 15 + Math.random() * (canvas.width - 30),
        y: 15 + Math.random() * (canvas.height - 30),
        radius: 15
      };
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      drawTarget();
    }

    function startGame() {
      score = 0;
      gameActive = true;
      gameOverlay.classList.add('overlay-hidden');
      scoreElement.textContent = `Score: ${score} | High: ${highScore}`;
      spawnTarget();
    }

    function endGame() {
      gameActive = false;
      highScore = Math.max(highScore, score);
      overlayText.textContent = `GAME OVER! (Score: ${score})`;
      startBtn.textContent = "ðŸ”„ PLAY AGAIN";
      gameOverlay.classList.remove('overlay-hidden');
    }

    // Event Listeners
    startBtn.addEventListener('click', startGame);

    canvas.addEventListener('click', (e) => {
      if (!gameActive) return;
      
      const rect = canvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      
      const distance = Math.sqrt((x - target.x) ** 2 + (y - target.y) ** 2);
      
      if (distance < target.radius) {
        score++;
        scoreElement.textContent = `Score: ${score} | High: ${highScore}`;
        spawnTarget();
      } else {
        endGame();
      }
    });

    // Mobile Support
    canvas.addEventListener('touchend', (e) => {
      e.preventDefault();
      const touch = e.changedTouches[0];
      const mouseEvent = new MouseEvent('click', {
        clientX: touch.clientX,
        clientY: touch.clientY
      });
      canvas.dispatchEvent(mouseEvent);
    });

    // Init
    window.addEventListener('load', () => {
      setupCanvas();
      window.addEventListener('resize', setupCanvas);
    });
  </script>
</body>
</html>
